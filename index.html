<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Xreview - Películas, Animes y Series</title>
  <link rel="stylesheet" href="styles/main.css">
  <script type="module" src="./js/main.js"></script>
</head>
<body>
  <!-- Logo y encabezado -->
  <div class="container-logo">
    <div class="logo-img">
      <img src="./storage/img/EDITADO.png" alt="" />
      <div class="auth-header">
        <h1>Xreview</h1>
        <p>Plataforma de rese<span class="tilde">ñ</span>as</p>
      </div>
    </div>
  </div>

  <!-- Contenedor de login/registro -->
  <div class="container">
    <div class="auth-wrapper">
      
      <!-- Login Form -->
      <div id="login-form" class="auth-form active">
        <h2>Iniciar Sesion</h2>
        <form id="loginForm">
          <div class="form-group">
            <label for="loginEmail">Email</label>
            <input type="email" id="loginEmail" name="email" required>
            <span class="error-message" id="loginEmailError"></span>
          </div>
          <div class="form-group">
            <label for="loginPassword">Contrase<span class="ñ">ñ</span>a</label>
            <input type="password" id="loginPassword" name="password" required>
            <span class="error-message" id="loginPasswordError"></span>
          </div>
          <button type="submit" class="btn-primary">Iniciar Sesion</button>
        </form>
        <p class="switch-form">
          ¿No tienes cuenta? <a href="#" id="showRegister">Registrate aqui</a>
        </p>
      </div>

      <!-- Register Form -->
      <div id="register-form" class="auth-form">
        <h2>Registro</h2>
        <form id="registerForm">
          <div class="form-group">
            <label for="registerEmail">Email</label>
            <input type="email" id="registerEmail" name="email" required>
            <span class="error-message" id="registerEmailError"></span>
          </div>
          <div class="form-group">
            <label for="registerPassword">Contrase<span class="ñ">ñ</span>a</label>
            <input type="password" id="registerPassword" name="password" required minlength="2">
            <span class="error-message" id="registerPasswordError"></span>
          </div>
          <div class="form-group">
            <label for="registerApodo">Apodo</label>
            <input type="text" id="registerApodo" name="apodo" required>
            <span class="error-message" id="registerApodoError"></span>
          </div>
          <input type="hidden" name="rol" value="usuario">
          <button type="submit" class="btn-primary">Registrarse</button>
        </form>
        <p class="switch-form">
          ¿Ya tienes cuenta? <a href="#" id="showLogin">Inicia sesion aqui</a>
        </p>
      </div>

    </div>
  </div>

  <!-- Dashboard (oculto al inicio) -->
  <div id="dashboard" class="dashboard hidden">
    <div class="dashboard-title">
      <h1>Bienvenido a Xreview</h1>
      <button id="logoutBtn" class="btn-secondary">Cerrar Sesion</button>
    </div>

    <div class="user-info">
      <span id="userApodo" class="name-apodo">masterCUleo</span>
      <span id="userRol" class="role-badge">Usuario</span>
    </div>

    <div class="dashboard-content">
      
      <!-- Barra de búsqueda -->
      <div class="search-main">
        <div class="search-bar">
          <input type="text" class="search-input" placeholder="Buscar contenido..." id="searchInput">
          <div class="search-icon" onclick="performSearch()"></div>
        </div>

        <!-- Filtros -->
        <div class="filters-section">
          <div class="filters-title">
            <h2>Filtros</h2>
            <span id="activeFiltersCount" class="active-filters-count" style="display: none;">0</span>
          </div>

          <div class="filters-container">
            <!-- Filtro por fecha -->
            <div class="filter-button" data-filter="fecha">
              <span class="filter-icon">📅</span>
              <span>Fecha</span>
              <div class="filter-dropdown">
                <div class="dropdown-option" data-value="hoy">Hoy</div>
                <div class="dropdown-option" data-value="semana">Esta semana</div>
                <div class="dropdown-option" data-value="mes">Este mes</div>
                <div class="dropdown-option" data-value="año">Este año</div>
                <div class="dropdown-option" data-value="personalizado">Personalizado</div>
              </div>
            </div>

            <!-- Filtro por popularidad -->
            <div class="filter-button" data-filter="popularidad">
              <span class="filter-icon">❤️</span>
              <span>Más me gusta</span>
              <div class="filter-dropdown">
                <div class="dropdown-option" data-value="mas-gustados">Más gustados</div>
                <div class="dropdown-option" data-value="menos-gustados">Menos gustados</div>
                <div class="dropdown-option" data-value="sin-orden">Sin orden</div>
              </div>
            </div>

            <!-- Filtro por año -->
            <div class="filter-button" data-filter="año">
              <span class="filter-icon">🗓️</span>
              <span>Año</span>
              <div class="filter-dropdown">
                <div class="dropdown-option" data-value="2024">2024</div>
                <div class="dropdown-option" data-value="2023">2023</div>
                <div class="dropdown-option" data-value="2022">2022</div>
                <div class="dropdown-option" data-value="2021">2021</div>
                <div class="dropdown-option" data-value="anterior">Anterior a 2021</div>
              </div>
            </div>

            <!-- Filtro por categoría -->
            <div class="filter-button" data-filter="categoria">
              <span class="filter-icon">📂</span>
              <span>Categoría</span>
              <div class="filter-dropdown">
                <div class="dropdown-option" data-value="tecnologia">Tecnología</div>
                <div class="dropdown-option" data-value="entretenimiento">Entretenimiento</div>
                <div class="dropdown-option" data-value="deportes">Deportes</div>
                <div class="dropdown-option" data-value="noticias">Noticias</div>
                <div class="dropdown-option" data-value="educacion">Educación</div>
              </div>
            </div>

            <!-- Filtro por tipo -->
            <div class="filter-button" data-filter="tipo">
              <span class="filter-icon">📄</span>
              <span>Tipo</span>
              <div class="filter-dropdown">
                <div class="dropdown-option" data-value="articulo">Artículo</div>
                <div class="dropdown-option" data-value="video">Video</div>
                <div class="dropdown-option" data-value="imagen">Imagen</div>
                <div class="dropdown-option" data-value="audio">Audio</div>
              </div>
            </div>

            <!-- Botón limpiar -->
            <button class="clear-filters" onclick="clearAllFilters()">🗑️ Limpiar filtros</button>
          </div>

          <!-- Sección de resultados -->
            <div class="results-section">
                <div class="results-info" id="resultsInfo">
                    Mostrando todos los resultados
                </div>
                
                <div class="results-grid" id="resultsGrid">
                    <!-- Resultados de ejemplo -->
                    <div class="result-card">
                        <div class="result-title">Ejemplo de resultado 1</div>
                        <div class="result-meta">
                            <span>📅 2024</span>
                            <span>❤️ 125 me gusta</span>
                            <span>📂 Tecnología</span>
                        </div>
                    </div>
                    
                    <div class="result-card">
                        <div class="result-title">Ejemplo de resultado 2</div>
                        <div class="result-meta">
                            <span>📅 2023</span>
                            <span>❤️ 89 me gusta</span>
                            <span>📂 Entretenimiento</span>
                        </div>
                    </div>
                    
                    <div class="result-card">
                        <div class="result-title">Ejemplo de resultado 3</div>
                        <div class="result-meta">
                            <span>📅 2024</span>
                            <span>❤️ 203 me gusta</span>
                            <span>📂 Deportes</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Sección de carousel para contenido más top -->
             <div class="tops-section">
                <div class="tops-header">
                    <h2 class="tops-title">🏆 Más Populares</h2>
                    <div class="carousel-controls">
                        <button class="carousel-btn prev-btn" onclick="moveCarousel(-1)">‹</button>
                        <button class="carousel-btn next-btn" onclick="moveCarousel(1)">›</button>
                    </div>
                </div>
                
                <div class="carousel-container">
                    <div class="carousel-track" id="carouselTrack">
                        <!-- Item 1 -->
                        <div class="carousel-item">
                            <div class="item-image">
                                <img src="/placeholder.svg?height=200&width=300" alt="Contenido top 1">
                                <div class="item-rank">1</div>
                            </div>
                            <div class="item-content">
                                <h3 class="item-title">Inteligencia Artificial en 2024</h3>
                                <p class="item-description">Las últimas tendencias en IA que están revolucionando el mundo</p>
                                <div class="item-stats">
                                    <span class="stat">❤️ 2.5K</span>
                                    <span class="stat">👁️ 15.2K</span>
                                    <span class="stat">💬 342</span>
                                </div>
                            </div>
                        </div>

                        <!-- Item 2 -->
                        <div class="carousel-item">
                            <div class="item-image">
                                <img src="/placeholder.svg?height=200&width=300" alt="Contenido top 2">
                                <div class="item-rank">2</div>
                            </div>
                            <div class="item-content">
                                <h3 class="item-title">Final del Mundial 2024</h3>
                                <p class="item-description">Los mejores momentos de la final más emocionante</p>
                                <div class="item-stats">
                                    <span class="stat">❤️ 1.8K</span>
                                    <span class="stat">👁️ 12.7K</span>
                                    <span class="stat">💬 289</span>
                                </div>
                            </div>
                        </div>

                        <!-- Item 3 -->
                        <div class="carousel-item">
                            <div class="item-image">
                                <img src="/placeholder.svg?height=200&width=300" alt="Contenido top 3">
                                <div class="item-rank">3</div>
                            </div>
                            <div class="item-content">
                                <h3 class="item-title">Álbum del Año</h3>
                                <p class="item-description">El disco que ha marcado la música de este año</p>
                                <div class="item-stats">
                                    <span class="stat">❤️ 1.6K</span>
                                    <span class="stat">👁️ 9.8K</span>
                                    <span class="stat">💬 156</span>
                                </div>
                            </div>
                        </div>

                        <!-- Item 4 -->
                        <div class="carousel-item">
                            <div class="item-image">
                                <img src="/placeholder.svg?height=200&width=300" alt="Contenido top 4">
                                <div class="item-rank">4</div>
                            </div>
                            <div class="item-content">
                                <h3 class="item-title">Descubrimiento Espacial</h3>
                                <p class="item-description">Nueva galaxia descubierta por el telescopio James Webb</p>
                                <div class="item-stats">
                                    <span class="stat">❤️ 1.4K</span>
                                    <span class="stat">👁️ 8.5K</span>
                                    <span class="stat">💬 198</span>
                                </div>
                            </div>
                        </div>

                        <!-- Item 5 -->
                        <div class="carousel-item">
                            <div class="item-image">
                                <img src="/placeholder.svg?height=200&width=300" alt="Contenido top 5">
                                <div class="item-rank">5</div>
                            </div>
                            <div class="item-content">
                                <h3 class="item-title">Juego del Año 2024</h3>
                                <p class="item-description">El videojuego que ha conquistado a millones de jugadores</p>
                                <div class="item-stats">
                                    <span class="stat">❤️ 1.2K</span>
                                    <span class="stat">👁️ 7.3K</span>
                                    <span class="stat">💬 124</span>
                                </div>
                            </div>
                        </div>

                        <!-- Item 6 -->
                        <div class="carousel-item">
                            <div class="item-image">
                                <img src="/placeholder.svg?height=200&width=300" alt="Contenido top 6">
                                <div class="item-rank">6</div>
                            </div>
                            <div class="item-content">
                                <h3 class="item-title">Tendencias Gastronómicas</h3>
                                <p class="item-description">Los platos que están revolucionando la cocina mundial</p>
                                <div class="item-stats">
                                    <span class="stat">❤️ 1.1K</span>
                                    <span class="stat">👁️ 6.9K</span>
                                    <span class="stat">💬 87</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="carousel-indicators">
                    <div class="indicator active" onclick="goToSlide(0)"></div>
                    <div class="indicator" onclick="goToSlide(1)"></div>
                    <div class="indicator" onclick="goToSlide(2)"></div>
                </div>
            </div>
        </div>
      </div>

      <!-- Panel de reseñas -->
      <div id="reviewsPanel">
        <h3>Gestión de Reseñas</h3>
        <form id="createReviewForm" class="review-form">
          <div class="form-group">
            <label for="tituloId">ID del Título</label>
            <input type="text" id="tituloId" name="tituloId" required>
          </div>
          <div class="form-group">
            <label for="encabezado">Encabezado</label>
            <input type="text" id="encabezado" name="encabezado" required>
          </div>
          <div class="form-group">
            <label for="comentario">Comentario</label>
            <textarea id="comentario" name="comentario" required></textarea>
          </div>
          <div class="form-group">
            <label for="calificacion">Calificación (1-10)</label>
            <input type="number" id="calificacion" name="calificacion" min="1" max="10" required>
          </div>
          <button type="submit" class="btn-primary">Crear Reseña</button>
        </form>
      </div>

      <!-- Mensajes -->
      <div id="message" class="message hidden"></div>

      <!-- Info token -->
      <div class="token-info">
        <h3>Token JWT:</h3>
        <textarea id="tokenDisplay" readonly></textarea>
      </div>
    </div>
  </div>
</body>
</html>
